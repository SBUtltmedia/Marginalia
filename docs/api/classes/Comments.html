<!DOCTYPE html>
<html lang="en">
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0"/>
    <meta charset="utf-8"/>
    <title>API Documentation</title>
    <meta name="author" content=""/>
    <meta name="description" content=""/>

    <link href="../css/bootstrap-combined.no-icons.min.css" rel="stylesheet">
    <link href="../css/font-awesome.min.css" rel="stylesheet">
    <link href="../css/prism.css" rel="stylesheet" media="all"/>
    <link href="../css/template.css" rel="stylesheet" media="all"/>
    
    <!--[if lt IE 9]>
    <script src="../js/html5.js"></script>
    <![endif]-->
    <script src="../js/jquery-1.11.0.min.js"></script>
    <script src="../js/ui/1.10.4/jquery-ui.min.js"></script>
    <script src="../js/bootstrap.min.js"></script>
    <script src="../js/jquery.smooth-scroll.js"></script>
    <script src="../js/prism.min.js"></script>
    <!-- TODO: Add http://jscrollpane.kelvinluck.com/ to style the scrollbars for browsers not using webkit-->
    <script type="text/javascript">
    function loadExternalCodeSnippets() {
        Array.prototype.slice.call(document.querySelectorAll('pre[data-src]')).forEach(function (pre) {
            var src = pre.getAttribute('data-src');
            var extension = (src.match(/\.(\w+)$/) || [, ''])[1];
            var language = 'php';

            var code = document.createElement('code');
            code.className = 'language-' + language;

            pre.textContent = '';

            code.textContent = 'Loading…';

            pre.appendChild(code);

            var xhr = new XMLHttpRequest();

            xhr.open('GET', src, true);

            xhr.onreadystatechange = function () {
                if (xhr.readyState == 4) {

                    if (xhr.status < 400 && xhr.responseText) {
                        code.textContent = xhr.responseText;

                        Prism.highlightElement(code);
                    }
                    else if (xhr.status >= 400) {
                        code.textContent = '✖ Error ' + xhr.status + ' while fetching file: ' + xhr.statusText;
                    }
                    else {
                        code.textContent = '✖ Error: File does not exist or is empty';
                    }
                }
            };

            xhr.send(null);
        });
    }

    $(document).ready(function(){
        loadExternalCodeSnippets();
    });
    $('#source-view').on('shown', function () {
        loadExternalCodeSnippets();
    })
</script>

    <link rel="shortcut icon" href="../images/favicon.ico"/>
    <link rel="apple-touch-icon" href="../images/apple-touch-icon.png"/>
    <link rel="apple-touch-icon" sizes="72x72" href="../images/apple-touch-icon-72x72.png"/>
    <link rel="apple-touch-icon" sizes="114x114" href="../images/apple-touch-icon-114x114.png"/>
</head>
<body>

<div class="navbar navbar-fixed-top">
    <div class="navbar-inner">
        <div class="container">
            <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                <i class="icon-ellipsis-vertical"></i>
            </a>
            <a class="brand" href="../index.html">API Documentation</a>

            <div class="nav-collapse">
                <ul class="nav pull-right">
                                        <li class="dropdown" id="charts-menu">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                            Charts <b class="caret"></b>
                        </a>
                        <ul class="dropdown-menu">
                            <li>
                                <a href="../graphs/class.html">
                                    <i class="icon-list-alt"></i>&#160;Class hierarchy diagram
                                </a>
                            </li>
                        </ul>
                    </li>
                    <li class="dropdown" id="reports-menu">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                            Reports <b class="caret"></b>
                        </a>
                        <ul class="dropdown-menu">
                            <li>
                                <a href="../reports/errors.html">
                                                                                                                                                                                                                                                                                                                                                                                                                            <i class="icon-list-alt"></i>&#160;Errors <span class="label label-info pull-right">115</span>
                                </a>
                            </li>
                            <li>
                                <a href="../reports/markers.html">
                                                                                                                                                                                                                                                                                                                                                                                                                            <i class="icon-list-alt"></i>&#160;Markers <span class="label label-info pull-right">0</span>
                                </a>
                            </li>
                            <li>
                                <a href="../reports/deprecated.html">
                                                                                                            <i class="icon-list-alt"></i>&#160;Deprecated <span class="label label-info pull-right">0</span>
                                </a>
                            </li>
                        </ul>
                    </li>
                </ul>
            </div>
        </div>
    </div>
    <!--<div class="go_to_top">-->
    <!--<a href="#___" style="color: inherit">Back to top&#160;&#160;<i class="icon-upload icon-white"></i></a>-->
    <!--</div>-->
</div>

<div id="___" class="container-fluid">
        <section class="row-fluid">
        <div class="span2 sidebar">
                                <div class="accordion" style="margin-bottom: 0">
        <div class="accordion-group">
            <div class="accordion-heading">
                                    <a class="accordion-toggle " data-toggle="collapse" data-target="#namespace-466958084"></a>
                                <a href="../namespaces/default.html" style="margin-left: 30px; padding-left: 0">\</a>
            </div>
            <div id="namespace-466958084" class="accordion-body collapse in">
                <div class="accordion-inner">

                    
                    <ul>
                                                                                                    <li class="class"><a href="../classes/Comment.html">Comment</a></li>
                                                    <li class="class"><a href="../classes/Comments.html">Comments</a></li>
                                                    <li class="class"><a href="../classes/CreateWork.html">CreateWork</a></li>
                                                    <li class="class"><a href="../classes/DefaultPermissions.html">DefaultPermissions</a></li>
                                                    <li class="class"><a href="../classes/Permissions.html">Permissions</a></li>
                                                    <li class="class"><a href="../classes/Users.html">Users</a></li>
                                            </ul>
                </div>
            </div>
        </div>
    </div>

        </div>
    </section>
    <section class="row-fluid">
        <div class="span10 offset2">
            <div class="row-fluid">
                <div class="span8 content class">
                    <nav>
                                                <a href="../namespaces/default.html">\</a> <i class="icon-level-up"></i>
                                            </nav>
                    <a href="#source-view" role="button" class="pull-right btn" data-toggle="modal"><i class="icon-code"></i></a>

                    <h1><small>\</small>Comments</h1>
                    <p><em>Comments class that contains methods used for editing/creating/deleting comments</em></p>
                    <p>This class relies on Permissions.php to check whether a user is allowed to modify specified comment</p>
                    
                                        
                    <section id="summary">
                        <h2>Summary</h2>
                        <section class="row-fluid heading">
                            <section class="span4">
                                <a href="#methods">Methods</a>
                            </section>
                            <section class="span4">
                                <a href="#properties">Properties</a>
                            </section>
                            <section class="span4">
                                <a href="#constants">Constants</a>
                            </section>
                        </section>
                        <section class="row-fluid public">
                            <section class="span4">
                                                                    <a href="../classes/Comments.html#method___construct" class="">__construct()</a><br />
                                                                    <a href="../classes/Comments.html#method_editComment" class="">editComment()</a><br />
                                                                    <a href="../classes/Comments.html#method_deleteComment" class="">deleteComment()</a><br />
                                                                    <a href="../classes/Comments.html#method_getCommentChain" class="">getCommentChain()</a><br />
                                                                    <a href="../classes/Comments.html#method_getHighlights" class="">getHighlights()</a><br />
                                                                    <a href="../classes/Comments.html#method_saveComment" class="">saveComment()</a><br />
                                                                    <a href="../classes/Comments.html#method_setCommentPublic" class="">setCommentPublic()</a><br />
                                                            </section>
                            <section class="span4">
                                                                    <em>No public properties found</em>
                                                            </section>
                            <section class="span4">
                                                                    <em>No constants found</em>
                                                            </section>
                        </section>
                        <section class="row-fluid protected">
                            <section class="span4">
                                                                    <em>No protected methods found</em>
                                                            </section>
                            <section class="span4">
                                                                    <em>No protected properties found</em>
                                                            </section>
                            <section class="span4">
                                <em>N/A</em>
                            </section>
                        </section>
                        <section class="row-fluid private">
                            <section class="span4">
                                                                    <a href="../classes/Comments.html#method_commentabilityOfWork" class="">commentabilityOfWork()</a><br />
                                                                    <a href="../classes/Comments.html#method_recursivelyRemovePathProperty" class="">recursivelyRemovePathProperty()</a><br />
                                                                    <a href="../classes/Comments.html#method_getFileMetaData" class="">getFileMetaData()</a><br />
                                                                    <a href="../classes/Comments.html#method_getCommentPathByHash" class="">getCommentPathByHash()</a><br />
                                                                    <a href="../classes/Comments.html#method_buildCommentJsonFromPaths" class="">buildCommentJsonFromPaths()</a><br />
                                                                    <a href="../classes/Comments.html#method_isThreadOf" class="">isThreadOf()</a><br />
                                                                    <a href="../classes/Comments.html#method_getCommentFiles" class="">getCommentFiles()</a><br />
                                                                    <a href="../classes/Comments.html#method_getCommentFilesRecursivelyHelper" class="">getCommentFilesRecursivelyHelper()</a><br />
                                                                    <a href="../classes/Comments.html#method_sortByLengthInc" class="">sortByLengthInc()</a><br />
                                                                    <a href="../classes/Comments.html#method_sortByLengthDec" class="">sortByLengthDec()</a><br />
                                                                    <a href="../classes/Comments.html#method_getEppnHashFromPath" class="">getEppnHashFromPath()</a><br />
                                                                    <a href="../classes/Comments.html#method_deleteDir" class="">deleteDir()</a><br />
                                                            </section>
                            <section class="span4">
                                                                    <em>No private properties found</em>
                                                            </section>
                            <section class="span4">
                                <em>N/A</em>
                            </section>
                        </section>
                    </section>
                </div>
                <aside class="span4 detailsbar">
                                        
                    
                    <dl>
                        <dt>File</dt>
                            <dd><a href="../files/Comments.html"><div class="path-wrapper">Comments.php</div></a></dd>
                                                <dt>Package</dt>
                            <dd><div class="namespace-wrapper">Default</div></dd>
                                                <dt>Class hierarchy</dt>
                            <dd class="hierarchy">
                                                                                                                                                                    <div class="namespace-wrapper">\Comments</div>
                            </dd>

                        
                        
                        
                        
                                                                        </dl>
                    <h2>Tags</h2>
                    <table class="table table-condensed">
                                            <tr><td colspan="2"><em>None found</em></td></tr>
                                        </table>
                </aside>
            </div>

                        
                        
                                    <a id="methods" name="methods"></a>
            <div class="row-fluid">
                <div class="span8 content class"><h2>Methods</h2></div>
                <aside class="span4 detailsbar"></aside>
            </div>

                                    <div class="row-fluid">
        <div class="span8 content class">
            <a id="method___construct" name="method___construct" class="anchor"></a>
            <article class="method">
                <h3 class="public ">__construct()</h3>
                <a href="#source-view" role="button" class="pull-right btn" data-toggle="modal" style="font-size: 1.1em; padding: 9px 14px"><i class="icon-code"></i></a>
                <pre class="signature" style="margin-right: 54px;">__construct(String  <span class="argument">$creator</span>, String  <span class="argument">$work</span>) </pre>
                <p><em>Constructor for reusing objects and variables etc</em></p>
                <p>Uses the work name and its creator, instantiates a permissions object which is used by many of this classes functions</p>

                                    <h4>Parameters</h4>
                    <table class="table table-condensed table-hover">
                                                    <tr>
                                <td>String</td>
                                <td>$creator </td>
                                <td><p>The EPPN of the creator of the specified work</p></td>
                            </tr>
                                                    <tr>
                                <td>String</td>
                                <td>$work </td>
                                <td><p>The work name</p></td>
                            </tr>
                                            </table>
                
                
                				
                            </article>
        </div>
        <aside class="span4 detailsbar">
            <h1><i class="icon-arrow-down"></i></h1>
                                                            <dl>
                                                                                            <dt>See also</dt>
                                                                <dd><a href=""><span class="namespace-wrapper">\userOnPermissionsList()</span></a></dd>
                                                                </dl>
            <h2>Tags</h2>
            <table class="table table-condensed">
                                    <tr><td colspan="2"><em>None found</em></td></tr>
                            </table>
        </aside>
    </div>

                                    <div class="row-fluid">
        <div class="span8 content class">
            <a id="method_editComment" name="method_editComment" class="anchor"></a>
            <article class="method">
                <h3 class="public ">editComment()</h3>
                <a href="#source-view" role="button" class="pull-right btn" data-toggle="modal" style="font-size: 1.1em; padding: 9px 14px"><i class="icon-code"></i></a>
                <pre class="signature" style="margin-right: 54px;">editComment(String  <span class="argument">$creator</span>, String  <span class="argument">$work</span>, String  <span class="argument">$commenter</span>, String  <span class="argument">$hash</span>, String  <span class="argument">$type</span>, String  <span class="argument">$text</span>, Boolean  <span class="argument">$public</span>, String  <span class="argument">$editor</span>) : \JSON</pre>
                <p><em>Method for editing an existing comment</em></p>
                <p>In addition to providing comment editing functionality, this method checks to see if the user has the proper permissions to edit said comment.</p>

                                    <h4>Parameters</h4>
                    <table class="table table-condensed table-hover">
                                                    <tr>
                                <td>String</td>
                                <td>$creator </td>
                                <td><p>The EPPN of the creator of the specified work</p></td>
                            </tr>
                                                    <tr>
                                <td>String</td>
                                <td>$work </td>
                                <td><p>The work name</p></td>
                            </tr>
                                                    <tr>
                                <td>String</td>
                                <td>$commenter </td>
                                <td><p>The EPPN of the comment creator</p></td>
                            </tr>
                                                    <tr>
                                <td>String</td>
                                <td>$hash </td>
                                <td><p>The hash (unique ID) of the comment to edit</p></td>
                            </tr>
                                                    <tr>
                                <td>String</td>
                                <td>$type </td>
                                <td><p>The new &quot;type&quot; the comment should be (historical, question, analytical, definition...)</p></td>
                            </tr>
                                                    <tr>
                                <td>String</td>
                                <td>$text </td>
                                <td><p>The new comment-text that this comment should be changed to</p></td>
                            </tr>
                                                    <tr>
                                <td>Boolean</td>
                                <td>$public </td>
                                <td><p>True indicates that the work should be public and viewable to everyone. False indicates it should be viewable to only work admins</p></td>
                            </tr>
                                                    <tr>
                                <td>String</td>
                                <td>$editor </td>
                                <td><p>The EPPN of the user attempting to edit the comment. Obtained via $_SERVER['eppn']... Used to check whether the user has permissions to edit the comment</p></td>
                            </tr>
                                            </table>
                
                
                                    <h4>Returns</h4>
                    \JSON
                                            &mdash; <p>Representing the success status of editing a comment</p>
                                    				
                            </article>
        </div>
        <aside class="span4 detailsbar">
            <h1><i class="icon-arrow-down"></i></h1>
                                                            <dl>
                                                                                            <dt>See also</dt>
                                                                <dd><a href=""><span class="namespace-wrapper">\Permissions.php</span></a></dd>
                                                                </dl>
            <h2>Tags</h2>
            <table class="table table-condensed">
                                    <tr><td colspan="2"><em>None found</em></td></tr>
                            </table>
        </aside>
    </div>

                                    <div class="row-fluid">
        <div class="span8 content class">
            <a id="method_deleteComment" name="method_deleteComment" class="anchor"></a>
            <article class="method">
                <h3 class="public ">deleteComment()</h3>
                <a href="#source-view" role="button" class="pull-right btn" data-toggle="modal" style="font-size: 1.1em; padding: 9px 14px"><i class="icon-code"></i></a>
                <pre class="signature" style="margin-right: 54px;">deleteComment(  <span class="argument">$creator</span>,   <span class="argument">$work</span>,   <span class="argument">$commenter</span>,   <span class="argument">$hash</span>,   <span class="argument">$reader</span>) </pre>
                <p><em>Delete a comment
 -&gt; must be owner of the comment || must be on the permissions list of the work
   IF the comment has children threads, will set it to the text &quot;&lt;i&gt;comment deleted&lt;/i&gt;&quot;
     and set a property in the comment.json &#039;deleted =&gt; true&#039;
   ELSE the comment has no children threads, so the comment.json file gets deleted.</em></p>
                

                                    <h4>Parameters</h4>
                    <table class="table table-condensed table-hover">
                                                    <tr>
                                <td></td>
                                <td>$creator </td>
                                <td></td>
                            </tr>
                                                    <tr>
                                <td></td>
                                <td>$work </td>
                                <td></td>
                            </tr>
                                                    <tr>
                                <td></td>
                                <td>$commenter </td>
                                <td></td>
                            </tr>
                                                    <tr>
                                <td></td>
                                <td>$hash </td>
                                <td></td>
                            </tr>
                                                    <tr>
                                <td></td>
                                <td>$reader </td>
                                <td></td>
                            </tr>
                                            </table>
                
                
                				
                            </article>
        </div>
        <aside class="span4 detailsbar">
            <h1><i class="icon-arrow-down"></i></h1>
                                                            <dl>
                                                                            </dl>
            <h2>Tags</h2>
            <table class="table table-condensed">
                                    <tr><td colspan="2"><em>None found</em></td></tr>
                            </table>
        </aside>
    </div>

                                    <div class="row-fluid">
        <div class="span8 content class">
            <a id="method_getCommentChain" name="method_getCommentChain" class="anchor"></a>
            <article class="method">
                <h3 class="public ">getCommentChain()</h3>
                <a href="#source-view" role="button" class="pull-right btn" data-toggle="modal" style="font-size: 1.1em; padding: 9px 14px"><i class="icon-code"></i></a>
                <pre class="signature" style="margin-right: 54px;">getCommentChain(  <span class="argument">$creator</span>,   <span class="argument">$work</span>,   <span class="argument">$commenter</span>,   <span class="argument">$hash</span>,   <span class="argument">$reader</span>) </pre>
                <p><em>Get the comment data and its children for a specific comment</em></p>
                

                                    <h4>Parameters</h4>
                    <table class="table table-condensed table-hover">
                                                    <tr>
                                <td></td>
                                <td>$creator </td>
                                <td></td>
                            </tr>
                                                    <tr>
                                <td></td>
                                <td>$work </td>
                                <td></td>
                            </tr>
                                                    <tr>
                                <td></td>
                                <td>$commenter </td>
                                <td></td>
                            </tr>
                                                    <tr>
                                <td></td>
                                <td>$hash </td>
                                <td></td>
                            </tr>
                                                    <tr>
                                <td></td>
                                <td>$reader </td>
                                <td></td>
                            </tr>
                                            </table>
                
                
                				
                            </article>
        </div>
        <aside class="span4 detailsbar">
            <h1><i class="icon-arrow-down"></i></h1>
                                                            <dl>
                                                                            </dl>
            <h2>Tags</h2>
            <table class="table table-condensed">
                                    <tr><td colspan="2"><em>None found</em></td></tr>
                            </table>
        </aside>
    </div>

                                    <div class="row-fluid">
        <div class="span8 content class">
            <a id="method_getHighlights" name="method_getHighlights" class="anchor"></a>
            <article class="method">
                <h3 class="public ">getHighlights()</h3>
                <a href="#source-view" role="button" class="pull-right btn" data-toggle="modal" style="font-size: 1.1em; padding: 9px 14px"><i class="icon-code"></i></a>
                <pre class="signature" style="margin-right: 54px;">getHighlights(  <span class="argument">$creator</span>,   <span class="argument">$work</span>,   <span class="argument">$reader</span>) </pre>
                <p><em>Returns the meta data for first level comments</em></p>
                

                                    <h4>Parameters</h4>
                    <table class="table table-condensed table-hover">
                                                    <tr>
                                <td></td>
                                <td>$creator </td>
                                <td></td>
                            </tr>
                                                    <tr>
                                <td></td>
                                <td>$work </td>
                                <td></td>
                            </tr>
                                                    <tr>
                                <td></td>
                                <td>$reader </td>
                                <td></td>
                            </tr>
                                            </table>
                
                
                				
                            </article>
        </div>
        <aside class="span4 detailsbar">
            <h1><i class="icon-arrow-down"></i></h1>
                                                            <dl>
                                                                            </dl>
            <h2>Tags</h2>
            <table class="table table-condensed">
                                    <tr><td colspan="2"><em>None found</em></td></tr>
                            </table>
        </aside>
    </div>

                                    <div class="row-fluid">
        <div class="span8 content class">
            <a id="method_saveComment" name="method_saveComment" class="anchor"></a>
            <article class="method">
                <h3 class="public ">saveComment()</h3>
                <a href="#source-view" role="button" class="pull-right btn" data-toggle="modal" style="font-size: 1.1em; padding: 9px 14px"><i class="icon-code"></i></a>
                <pre class="signature" style="margin-right: 54px;">saveComment(  <span class="argument">$workAuthor</span>,   <span class="argument">$workName</span>,   <span class="argument">$replyTo</span>,   <span class="argument">$replyHash</span>,   <span class="argument">$commenterEppn</span>,   <span class="argument">$startIndex</span>,   <span class="argument">$endIndex</span>,   <span class="argument">$commentText</span>,   <span class="argument">$commentType</span>,   <span class="argument">$privacy</span>,   <span class="argument">$commenterFirstName</span>,   <span class="argument">$commenterLastName</span>) </pre>
                <p><em>Save a users&#039; comment on a specified work
This method must check if the user has access to comment on specified work</em></p>
                

                                    <h4>Parameters</h4>
                    <table class="table table-condensed table-hover">
                                                    <tr>
                                <td></td>
                                <td>$workAuthor </td>
                                <td></td>
                            </tr>
                                                    <tr>
                                <td></td>
                                <td>$workName </td>
                                <td></td>
                            </tr>
                                                    <tr>
                                <td></td>
                                <td>$replyTo </td>
                                <td></td>
                            </tr>
                                                    <tr>
                                <td></td>
                                <td>$replyHash </td>
                                <td></td>
                            </tr>
                                                    <tr>
                                <td></td>
                                <td>$commenterEppn </td>
                                <td></td>
                            </tr>
                                                    <tr>
                                <td></td>
                                <td>$startIndex </td>
                                <td></td>
                            </tr>
                                                    <tr>
                                <td></td>
                                <td>$endIndex </td>
                                <td></td>
                            </tr>
                                                    <tr>
                                <td></td>
                                <td>$commentText </td>
                                <td></td>
                            </tr>
                                                    <tr>
                                <td></td>
                                <td>$commentType </td>
                                <td></td>
                            </tr>
                                                    <tr>
                                <td></td>
                                <td>$privacy </td>
                                <td></td>
                            </tr>
                                                    <tr>
                                <td></td>
                                <td>$commenterFirstName </td>
                                <td></td>
                            </tr>
                                                    <tr>
                                <td></td>
                                <td>$commenterLastName </td>
                                <td></td>
                            </tr>
                                            </table>
                
                
                				
                            </article>
        </div>
        <aside class="span4 detailsbar">
            <h1><i class="icon-arrow-down"></i></h1>
                                                            <dl>
                                                                            </dl>
            <h2>Tags</h2>
            <table class="table table-condensed">
                                    <tr><td colspan="2"><em>None found</em></td></tr>
                            </table>
        </aside>
    </div>

                                    <div class="row-fluid">
        <div class="span8 content class">
            <a id="method_setCommentPublic" name="method_setCommentPublic" class="anchor"></a>
            <article class="method">
                <h3 class="public ">setCommentPublic()</h3>
                <a href="#source-view" role="button" class="pull-right btn" data-toggle="modal" style="font-size: 1.1em; padding: 9px 14px"><i class="icon-code"></i></a>
                <pre class="signature" style="margin-right: 54px;">setCommentPublic(  <span class="argument">$creator</span>,   <span class="argument">$work</span>,   <span class="argument">$commentHash</span>,   <span class="argument">$commenterEppn</span>,   <span class="argument">$privacy</span>) </pre>
                <p><em>Set an existing comments&#039; public status
$commenterEppn isn&#039;t required, but it&#039;s the $_SERVER[&#039;eppn&#039;] .</em></p>
                <p>..</p>

                                    <h4>Parameters</h4>
                    <table class="table table-condensed table-hover">
                                                    <tr>
                                <td></td>
                                <td>$creator </td>
                                <td></td>
                            </tr>
                                                    <tr>
                                <td></td>
                                <td>$work </td>
                                <td></td>
                            </tr>
                                                    <tr>
                                <td></td>
                                <td>$commentHash </td>
                                <td></td>
                            </tr>
                                                    <tr>
                                <td></td>
                                <td>$commenterEppn </td>
                                <td></td>
                            </tr>
                                                    <tr>
                                <td></td>
                                <td>$privacy </td>
                                <td></td>
                            </tr>
                                            </table>
                
                
                				
                            </article>
        </div>
        <aside class="span4 detailsbar">
            <h1><i class="icon-arrow-down"></i></h1>
                                                            <dl>
                                                                            </dl>
            <h2>Tags</h2>
            <table class="table table-condensed">
                                    <tr><td colspan="2"><em>None found</em></td></tr>
                            </table>
        </aside>
    </div>

                                                                    <div class="row-fluid">
        <div class="span8 content class">
            <a id="method_commentabilityOfWork" name="method_commentabilityOfWork" class="anchor"></a>
            <article class="method">
                <h3 class="private ">commentabilityOfWork()</h3>
                <a href="#source-view" role="button" class="pull-right btn" data-toggle="modal" style="font-size: 1.1em; padding: 9px 14px"><i class="icon-code"></i></a>
                <pre class="signature" style="margin-right: 54px;">commentabilityOfWork(  <span class="argument">$workPath</span>,   <span class="argument">$commenterEppn</span>,   <span class="argument">$privacy</span>) : \-1:</pre>
                <p><em>Returns an int representing the approval.</em></p>
                <p>.. Read pseudocode for explanation</p>
<p>~~ Pseudocode ~~
IF work is private:
IF user on admin list:
THEN approved = TRUE
ELSE:
THEN CANNOT COMMENT
ELSE (work is public)
IF the comment is private ($privacy == false) // yes naming is wacky all around...
THEN approved = TRUE // This means, changing the privacy will need approval before viewable by others in the future
ELSE:
IF the work &quot;comments_require_approval == true&quot;
IF user on admin list: approved = TRUE
ELSE approved = FALSE
ELSE approved = TRUE</p>

                                    <h4>Parameters</h4>
                    <table class="table table-condensed table-hover">
                                                    <tr>
                                <td></td>
                                <td>$workPath </td>
                                <td></td>
                            </tr>
                                                    <tr>
                                <td></td>
                                <td>$commenterEppn </td>
                                <td></td>
                            </tr>
                                                    <tr>
                                <td></td>
                                <td>$privacy </td>
                                <td></td>
                            </tr>
                                            </table>
                
                
                                    <h4>Returns</h4>
                    \-1:
                                            &mdash; <p>user isn't even allowed to comment on this work</p>
                                    				
                            </article>
        </div>
        <aside class="span4 detailsbar">
            <h1><i class="icon-arrow-down"></i></h1>
                                                            <dl>
                                                                            </dl>
            <h2>Tags</h2>
            <table class="table table-condensed">
                                    <tr><td colspan="2"><em>None found</em></td></tr>
                            </table>
        </aside>
    </div>

                                    <div class="row-fluid">
        <div class="span8 content class">
            <a id="method_recursivelyRemovePathProperty" name="method_recursivelyRemovePathProperty" class="anchor"></a>
            <article class="method">
                <h3 class="private ">recursivelyRemovePathProperty()</h3>
                <a href="#source-view" role="button" class="pull-right btn" data-toggle="modal" style="font-size: 1.1em; padding: 9px 14px"><i class="icon-code"></i></a>
                <pre class="signature" style="margin-right: 54px;">recursivelyRemovePathProperty(  <span class="argument">$commentChain</span>) </pre>
                <p><em>Path property in a comment is needed to construct the comments in the proper order.</em></p>
                <p>Once the object is created with all the linkings, we can then remove the path.
CANNOT remove path property while the tree is being built. Only once the entire tree has been constructed...</p>
<p>This function removes the path property recursively</p>

                                    <h4>Parameters</h4>
                    <table class="table table-condensed table-hover">
                                                    <tr>
                                <td></td>
                                <td>$commentChain </td>
                                <td></td>
                            </tr>
                                            </table>
                
                
                				
                            </article>
        </div>
        <aside class="span4 detailsbar">
            <h1><i class="icon-arrow-down"></i></h1>
                                                            <dl>
                                                                            </dl>
            <h2>Tags</h2>
            <table class="table table-condensed">
                                    <tr><td colspan="2"><em>None found</em></td></tr>
                            </table>
        </aside>
    </div>

                                    <div class="row-fluid">
        <div class="span8 content class">
            <a id="method_getFileMetaData" name="method_getFileMetaData" class="anchor"></a>
            <article class="method">
                <h3 class="private ">getFileMetaData()</h3>
                <a href="#source-view" role="button" class="pull-right btn" data-toggle="modal" style="font-size: 1.1em; padding: 9px 14px"><i class="icon-code"></i></a>
                <pre class="signature" style="margin-right: 54px;">getFileMetaData(array  <span class="argument">$arrayOfFullCommentPath</span>,   <span class="argument">$reader</span>) : array</pre>
                <p><em>Returns meta data of the given file-comment paths</em></p>
                

                                    <h4>Parameters</h4>
                    <table class="table table-condensed table-hover">
                                                    <tr>
                                <td>array</td>
                                <td>$arrayOfFullCommentPath </td>
                                <td><p>array of full file paths to comments</p></td>
                            </tr>
                                                    <tr>
                                <td></td>
                                <td>$reader </td>
                                <td></td>
                            </tr>
                                            </table>
                
                
                                    <h4>Returns</h4>
                    array
                                            &mdash; <p>JSON of the meta data for each of the comment files... no comment text, just location of the comments</p>
                                    				
                            </article>
        </div>
        <aside class="span4 detailsbar">
            <h1><i class="icon-arrow-down"></i></h1>
                                                            <dl>
                                                                            </dl>
            <h2>Tags</h2>
            <table class="table table-condensed">
                                    <tr><td colspan="2"><em>None found</em></td></tr>
                            </table>
        </aside>
    </div>

                                    <div class="row-fluid">
        <div class="span8 content class">
            <a id="method_getCommentPathByHash" name="method_getCommentPathByHash" class="anchor"></a>
            <article class="method">
                <h3 class="private ">getCommentPathByHash()</h3>
                <a href="#source-view" role="button" class="pull-right btn" data-toggle="modal" style="font-size: 1.1em; padding: 9px 14px"><i class="icon-code"></i></a>
                <pre class="signature" style="margin-right: 54px;">getCommentPathByHash(  <span class="argument">$creator</span>,   <span class="argument">$work</span>,   <span class="argument">$commentHash</span>,   <span class="argument">$commenterEppn</span>) </pre>
                <p><em>Get the path of a comment.json file by the commentCreatorEppn and commentHash (and work creator &amp; work name)</em></p>
                

                                    <h4>Parameters</h4>
                    <table class="table table-condensed table-hover">
                                                    <tr>
                                <td></td>
                                <td>$creator </td>
                                <td></td>
                            </tr>
                                                    <tr>
                                <td></td>
                                <td>$work </td>
                                <td></td>
                            </tr>
                                                    <tr>
                                <td></td>
                                <td>$commentHash </td>
                                <td></td>
                            </tr>
                                                    <tr>
                                <td></td>
                                <td>$commenterEppn </td>
                                <td></td>
                            </tr>
                                            </table>
                
                
                				
                            </article>
        </div>
        <aside class="span4 detailsbar">
            <h1><i class="icon-arrow-down"></i></h1>
                                                            <dl>
                                                                            </dl>
            <h2>Tags</h2>
            <table class="table table-condensed">
                                    <tr><td colspan="2"><em>None found</em></td></tr>
                            </table>
        </aside>
    </div>

                                    <div class="row-fluid">
        <div class="span8 content class">
            <a id="method_buildCommentJsonFromPaths" name="method_buildCommentJsonFromPaths" class="anchor"></a>
            <article class="method">
                <h3 class="private ">buildCommentJsonFromPaths()</h3>
                <a href="#source-view" role="button" class="pull-right btn" data-toggle="modal" style="font-size: 1.1em; padding: 9px 14px"><i class="icon-code"></i></a>
                <pre class="signature" style="margin-right: 54px;">buildCommentJsonFromPaths(  <span class="argument">$commentFilePaths</span>,   <span class="argument">$readerEppn</span>,   <span class="argument">$creator</span>,   <span class="argument">$work</span>) </pre>
                <p><em>Builds the JSON content of comment files - given an array of file paths</em></p>
                <p>[DONE] Show public &amp; private comments to the comment-creator</p>
<pre><code> [DONE] Show public &amp; unapproved comments to admins

 [DONE] Show public &amp; approved comments to everyone</code></pre>

                                    <h4>Parameters</h4>
                    <table class="table table-condensed table-hover">
                                                    <tr>
                                <td></td>
                                <td>$commentFilePaths </td>
                                <td></td>
                            </tr>
                                                    <tr>
                                <td></td>
                                <td>$readerEppn </td>
                                <td></td>
                            </tr>
                                                    <tr>
                                <td></td>
                                <td>$creator </td>
                                <td></td>
                            </tr>
                                                    <tr>
                                <td></td>
                                <td>$work </td>
                                <td></td>
                            </tr>
                                            </table>
                
                
                				
                            </article>
        </div>
        <aside class="span4 detailsbar">
            <h1><i class="icon-arrow-down"></i></h1>
                                                            <dl>
                                                                            </dl>
            <h2>Tags</h2>
            <table class="table table-condensed">
                                    <tr><td colspan="2"><em>None found</em></td></tr>
                            </table>
        </aside>
    </div>

                                    <div class="row-fluid">
        <div class="span8 content class">
            <a id="method_isThreadOf" name="method_isThreadOf" class="anchor"></a>
            <article class="method">
                <h3 class="private ">isThreadOf()</h3>
                <a href="#source-view" role="button" class="pull-right btn" data-toggle="modal" style="font-size: 1.1em; padding: 9px 14px"><i class="icon-code"></i></a>
                <pre class="signature" style="margin-right: 54px;">isThreadOf(  <span class="argument">$path</span>,   <span class="argument">$array</span>) </pre>
                <p><em>Checks if the $path is inside $array, {NOT!!!!} if the entire length of $path is covered by a value in $array.</em></p>
                <p>..
Rather, if the $path is a continuation of any of the existing arrays...</p>

                                    <h4>Parameters</h4>
                    <table class="table table-condensed table-hover">
                                                    <tr>
                                <td></td>
                                <td>$path </td>
                                <td></td>
                            </tr>
                                                    <tr>
                                <td></td>
                                <td>$array </td>
                                <td></td>
                            </tr>
                                            </table>
                
                
                				
                            </article>
        </div>
        <aside class="span4 detailsbar">
            <h1><i class="icon-arrow-down"></i></h1>
                                                            <dl>
                                                                            </dl>
            <h2>Tags</h2>
            <table class="table table-condensed">
                                    <tr><td colspan="2"><em>None found</em></td></tr>
                            </table>
        </aside>
    </div>

                                    <div class="row-fluid">
        <div class="span8 content class">
            <a id="method_getCommentFiles" name="method_getCommentFiles" class="anchor"></a>
            <article class="method">
                <h3 class="private ">getCommentFiles()</h3>
                <a href="#source-view" role="button" class="pull-right btn" data-toggle="modal" style="font-size: 1.1em; padding: 9px 14px"><i class="icon-code"></i></a>
                <pre class="signature" style="margin-right: 54px;">getCommentFiles(  <span class="argument">$author</span>,   <span class="argument">$work</span>,   <span class="argument">$recursive</span>,   <span class="argument">$commenter = null</span>,   <span class="argument">$hash = null</span>) </pre>
                <p><em>Recursive starter function.</em></p>
                <p>.. returns an array of all the file paths to comment.json files that're associated with $author and $work</p>
<p>NOTE: specifying a $commenter and $hash only works when $recursive = TRUE</p>

                                    <h4>Parameters</h4>
                    <table class="table table-condensed table-hover">
                                                    <tr>
                                <td></td>
                                <td>$author </td>
                                <td></td>
                            </tr>
                                                    <tr>
                                <td></td>
                                <td>$work </td>
                                <td></td>
                            </tr>
                                                    <tr>
                                <td></td>
                                <td>$recursive </td>
                                <td></td>
                            </tr>
                                                    <tr>
                                <td></td>
                                <td>$commenter </td>
                                <td></td>
                            </tr>
                                                    <tr>
                                <td></td>
                                <td>$hash </td>
                                <td></td>
                            </tr>
                                            </table>
                
                
                				
                            </article>
        </div>
        <aside class="span4 detailsbar">
            <h1><i class="icon-arrow-down"></i></h1>
                                                            <dl>
                                                                            </dl>
            <h2>Tags</h2>
            <table class="table table-condensed">
                                    <tr><td colspan="2"><em>None found</em></td></tr>
                            </table>
        </aside>
    </div>

                                    <div class="row-fluid">
        <div class="span8 content class">
            <a id="method_getCommentFilesRecursivelyHelper" name="method_getCommentFilesRecursivelyHelper" class="anchor"></a>
            <article class="method">
                <h3 class="private ">getCommentFilesRecursivelyHelper()</h3>
                <a href="#source-view" role="button" class="pull-right btn" data-toggle="modal" style="font-size: 1.1em; padding: 9px 14px"><i class="icon-code"></i></a>
                <pre class="signature" style="margin-right: 54px;">getCommentFilesRecursivelyHelper(  <span class="argument">$thread</span>,   <span class="argument">$commentsList</span>,   <span class="argument">$commenter = null</span>,   <span class="argument">$hash = null</span>) </pre>
                <p><em>Recursive helper function in getting the comment-file paths for a specified &#039;thread&#039; directory path</em></p>
                

                                    <h4>Parameters</h4>
                    <table class="table table-condensed table-hover">
                                                    <tr>
                                <td></td>
                                <td>$thread </td>
                                <td></td>
                            </tr>
                                                    <tr>
                                <td></td>
                                <td>$commentsList </td>
                                <td></td>
                            </tr>
                                                    <tr>
                                <td></td>
                                <td>$commenter </td>
                                <td></td>
                            </tr>
                                                    <tr>
                                <td></td>
                                <td>$hash </td>
                                <td></td>
                            </tr>
                                            </table>
                
                
                				
                            </article>
        </div>
        <aside class="span4 detailsbar">
            <h1><i class="icon-arrow-down"></i></h1>
                                                            <dl>
                                                                            </dl>
            <h2>Tags</h2>
            <table class="table table-condensed">
                                    <tr><td colspan="2"><em>None found</em></td></tr>
                            </table>
        </aside>
    </div>

                                    <div class="row-fluid">
        <div class="span8 content class">
            <a id="method_sortByLengthInc" name="method_sortByLengthInc" class="anchor"></a>
            <article class="method">
                <h3 class="private ">sortByLengthInc()</h3>
                <a href="#source-view" role="button" class="pull-right btn" data-toggle="modal" style="font-size: 1.1em; padding: 9px 14px"><i class="icon-code"></i></a>
                <pre class="signature" style="margin-right: 54px;">sortByLengthInc(  <span class="argument">$a</span>,   <span class="argument">$b</span>) </pre>
                <p><em>Sort an arrays&#039; contents by length (increasing length)
For usage with &#039;usort&#039;
e.g: usort($array, &#039;sortByLength&#039;);</em></p>
                

                                    <h4>Parameters</h4>
                    <table class="table table-condensed table-hover">
                                                    <tr>
                                <td></td>
                                <td>$a </td>
                                <td></td>
                            </tr>
                                                    <tr>
                                <td></td>
                                <td>$b </td>
                                <td></td>
                            </tr>
                                            </table>
                
                
                				
                            </article>
        </div>
        <aside class="span4 detailsbar">
            <h1><i class="icon-arrow-down"></i></h1>
                                                            <dl>
                                                                            </dl>
            <h2>Tags</h2>
            <table class="table table-condensed">
                                    <tr><td colspan="2"><em>None found</em></td></tr>
                            </table>
        </aside>
    </div>

                                    <div class="row-fluid">
        <div class="span8 content class">
            <a id="method_sortByLengthDec" name="method_sortByLengthDec" class="anchor"></a>
            <article class="method">
                <h3 class="private ">sortByLengthDec()</h3>
                <a href="#source-view" role="button" class="pull-right btn" data-toggle="modal" style="font-size: 1.1em; padding: 9px 14px"><i class="icon-code"></i></a>
                <pre class="signature" style="margin-right: 54px;">sortByLengthDec(  <span class="argument">$a</span>,   <span class="argument">$b</span>) </pre>
                <p><em></em></p>
                

                                    <h4>Parameters</h4>
                    <table class="table table-condensed table-hover">
                                                    <tr>
                                <td></td>
                                <td>$a </td>
                                <td></td>
                            </tr>
                                                    <tr>
                                <td></td>
                                <td>$b </td>
                                <td></td>
                            </tr>
                                            </table>
                
                
                				
                            </article>
        </div>
        <aside class="span4 detailsbar">
            <h1><i class="icon-arrow-down"></i></h1>
                                                            <dl>
                                                                            </dl>
            <h2>Tags</h2>
            <table class="table table-condensed">
                                    <tr><td colspan="2"><em>None found</em></td></tr>
                            </table>
        </aside>
    </div>

                                    <div class="row-fluid">
        <div class="span8 content class">
            <a id="method_getEppnHashFromPath" name="method_getEppnHashFromPath" class="anchor"></a>
            <article class="method">
                <h3 class="private ">getEppnHashFromPath()</h3>
                <a href="#source-view" role="button" class="pull-right btn" data-toggle="modal" style="font-size: 1.1em; padding: 9px 14px"><i class="icon-code"></i></a>
                <pre class="signature" style="margin-right: 54px;">getEppnHashFromPath(  <span class="argument">$path</span>,   <span class="argument">$type = null</span>) </pre>
                <p><em></em></p>
                

                                    <h4>Parameters</h4>
                    <table class="table table-condensed table-hover">
                                                    <tr>
                                <td></td>
                                <td>$path </td>
                                <td></td>
                            </tr>
                                                    <tr>
                                <td></td>
                                <td>$type </td>
                                <td></td>
                            </tr>
                                            </table>
                
                
                				
                            </article>
        </div>
        <aside class="span4 detailsbar">
            <h1><i class="icon-arrow-down"></i></h1>
                                                            <dl>
                                                                            </dl>
            <h2>Tags</h2>
            <table class="table table-condensed">
                                    <tr><td colspan="2"><em>None found</em></td></tr>
                            </table>
        </aside>
    </div>

                                    <div class="row-fluid">
        <div class="span8 content class">
            <a id="method_deleteDir" name="method_deleteDir" class="anchor"></a>
            <article class="method">
                <h3 class="private ">deleteDir()</h3>
                <a href="#source-view" role="button" class="pull-right btn" data-toggle="modal" style="font-size: 1.1em; padding: 9px 14px"><i class="icon-code"></i></a>
                <pre class="signature" style="margin-right: 54px;">deleteDir(  <span class="argument">$dirPath</span>) </pre>
                <p><em></em></p>
                

                                    <h4>Parameters</h4>
                    <table class="table table-condensed table-hover">
                                                    <tr>
                                <td></td>
                                <td>$dirPath </td>
                                <td></td>
                            </tr>
                                            </table>
                
                
                				
                            </article>
        </div>
        <aside class="span4 detailsbar">
            <h1><i class="icon-arrow-down"></i></h1>
                            <span class="label label-info">static</span>
                                                            <dl>
                                                                            </dl>
            <h2>Tags</h2>
            <table class="table table-condensed">
                                    <tr><td colspan="2"><em>None found</em></td></tr>
                            </table>
        </aside>
    </div>

                                    </div>
    </section>

    <div id="source-view" class="modal hide fade" tabindex="-1" role="dialog" aria-labelledby="source-view-label" aria-hidden="true">
        <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
            <h3 id="source-view-label">Comments.php</h3>
        </div>
        <div class="modal-body">
            <pre data-src="../files/Comments.php.txt" class="language-php line-numbers"></pre>
        </div>
    </div>

    <footer class="row-fluid">
        <section class="span10 offset2">
            <section class="row-fluid">
                <section class="span10 offset1">
                    <section class="row-fluid footer-sections">
                        <section class="span4">
                                                        <h1><i class="icon-code"></i></h1>
                            <div>
                                <ul>
                                                                    </ul>
                            </div>
                        </section>
                        <section class="span4">
                                                        <h1><i class="icon-bar-chart"></i></h1>
                            <div>
                                <ul>
                                    <li><a href="../graphs/class.html">Class Hierarchy Diagram</a></li>
                                </ul>
                            </div>
                        </section>
                        <section class="span4">
                                                        <h1><i class="icon-pushpin"></i></h1>
                            <div>
                                <ul>
                                    <li><a href="../reports/errors.html">Errors</a></li>
                                    <li><a href="../reports/markers.html">Markers</a></li>
                                </ul>
                            </div>
                        </section>
                    </section>
                </section>
            </section>
            <section class="row-fluid">
                <section class="span10 offset1">
                    <hr />
                    Documentation is powered by <a href="http://www.phpdoc.org/">phpDocumentor </a> and authored
                    on May 3rd, 2019 at 19:08.
                </section>
            </section>
        </section>
    </footer>
</div>

</body>
</html>
